<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KSRCE Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css" rel="stylesheet" />
    <style>
        body { font-family: 'Inter', sans-serif; }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        .fade-in-fast { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
        }
        .modal-content {
            animation: slideUp 0.4s ease-out;
        }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        .card-hover-effect {
             transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-hover-effect:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        :root {
         --chat--color-primary: #05003c;
         --chat--color-primary-shade-50: #05003c;
         --chat--color-primary-shade-100: #05003c;
         --chat--color-secondary: #20b69e;
         --chat--color-secondary-shade-50: #1ca08a;
         --chat--color-white: #ffffff;
         --chat--color-light: #f2f4f8;
         --chat--color-light-shade-50: #e6e9f1;
         --chat--color-light-shade-100: #c2c5cc;
         --chat--color-medium: #d2d4d9;
         --chat--color-dark: #101330;
         --chat--color-disabled: #777980;
         --chat--color-typing: #404040;          
        }
        .profile-pic {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 50%;
            border: 4px solid white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 antialiased">

    <div id="login-page" class="flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-900 to-slate-700 p-4">
        <div class="relative w-full max-w-md p-8 space-y-6 bg-white/10 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 text-white fade-in">
            <div class="text-center">
                <img src="https://ksrce.ac.in/admin/images/logo.png" alt="KSRCE Logo" class="w-20 h-20 mx-auto mb-4 bg-white p-2 rounded-full" onerror="this.onerror=null;this.src='https://placehold.co/80x80/FFFFFF/003366?text=KSRCE';">
                <h1 class="text-3xl font-bold">KSRCE Portal</h1>
                <p class="text-white/80 mt-2">Welcome to the Student & Staff Portal</p>
            </div>
            <form id="login-form" class="space-y-6">
                <div>
                    <label for="email" class="block text-sm font-medium text-white/90">Email Address</label>
                    <input id="email" name="email" type="email" autocomplete="email" required value="demo@ksrce.ac.in" class="mt-1 w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg shadow-sm placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:border-sky-400">
                </div>
                <div>
                    <label for="password" class="block text-sm font-medium text-white/90">Password</label>
                    <input id="password" name="password" type="password" autocomplete="current-password" required value="password" class="mt-1 w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg shadow-sm placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:border-sky-400">
                </div>
                <p id="error-message" class="text-red-400 text-sm hidden !mt-3 text-center">Please fill in both fields.</p>
                <div>
                    <button type="submit" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-lg text-md font-semibold text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 transition-transform hover:scale-105 duration-300">
                        Secure Sign In
                    </button>
                </div>
            </form>
        </div>
    </div>

    <div id="main-portal" class="hidden fade-in">
        <header class="bg-white shadow-md sticky top-0 z-40">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center py-3">
                    <div class="flex items-center space-x-4">
                        <img src="https://ksrce.ac.in/admin/images/logo.png" alt="KSRCE Logo" class="w-12 h-12" onerror="this.onerror=null;this.src='https://placehold.co/48x48/003366/FFFFFF?text=KSRCE';">
                        <div>
                            <h1 class="text-lg sm:text-xl font-bold text-blue-900">K.S.R College of Engineering</h1>
                            <p class="text-xs sm:text-sm text-gray-500">Autonomous Institution | Tiruchengode</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <button id="profile-button" class="flex items-center space-x-2 text-sm font-medium text-gray-700 hover:text-blue-700 transition-colors">
                            <img src="https://i.pravatar.cc/40?u=demo@ksrce.ac.in" alt="Profile" class="w-8 h-8 rounded-full" onerror="this.onerror=null;this.src='https://placehold.co/40x40/E2E8F0/4A5568?text=U';">
                            <span class="hidden sm:inline">My Profile</span>
                        </button>
                        <button id="logout-button" class="px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors shadow-sm">Logout</button>
                    </div>
                </div>
            </div>
        </header>

        <main class="container mx-auto p-4 sm:p-6 lg:p-8">
            <section class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg mb-8" style="background-image: url('https://images.unsplash.com/photo-1509062522246-3755977927d7?q=80&w=2132&auto=format&fit=crop'); background-size: cover; background-position: center;">
                <div class="bg-white/80 backdrop-blur-sm p-6 rounded-xl">
                    <h2 class="text-3xl font-bold text-gray-800">Welcome back, Demo User!</h2>
                    <p class="mt-2 text-gray-600">Your central hub for academic departments, campus life, and latest events. Explore the resources available to you.</p>
                </div>
            </section>
            
            <section id="departments-section">
                <h3 class="text-2xl font-bold text-gray-800 mb-6">Academic Departments</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                    </div>
            </section>
            
            <section id="campus-life-section" class="mt-12">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Campus Life & Facilities</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                             <div id="library-card" class="bg-white p-6 rounded-xl shadow-md card-hover-effect flex items-start space-x-4 cursor-pointer">
                                 <div class="bg-sky-100 text-sky-700 p-3 rounded-lg"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg></div>
                                 <div><h4 class="font-bold text-lg">Central Library</h4><p class="text-gray-600 text-sm mt-1">Vast collection of books, journals, and digital resources.</p></div>
                             </div>
                             <div id="hostel-card" class="bg-white p-6 rounded-xl shadow-md card-hover-effect flex items-start space-x-4 cursor-pointer">
                                 <div class="bg-emerald-100 text-emerald-700 p-3 rounded-lg"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg></div>
                                 <div><h4 class="font-bold text-lg">Hostel Facilities</h4><p class="text-gray-600 text-sm mt-1">Separate, secure, and well-maintained hostels for boys & girls.</p></div>
                             </div>
                             <div id="transport-card" class="bg-white p-6 rounded-xl shadow-md card-hover-effect flex items-start space-x-4 cursor-pointer">
                                 <div class="bg-amber-100 text-amber-700 p-3 rounded-lg"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10l2-2h8a1 1 0 001-1zM21 12h-6"/></svg></div>
                                 <div><h4 class="font-bold text-lg">Transport Network</h4><p class="text-gray-600 text-sm mt-1">Fleet of buses connecting major nearby towns and cities.</p></div>
                             </div>
                             <div id="sports-card" class="bg-white p-6 rounded-xl shadow-md card-hover-effect flex items-start space-x-4 cursor-pointer">
                                 <div class="bg-rose-100 text-rose-700 p-3 rounded-lg"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg></div>
                                 <div><h4 class="font-bold text-lg">Sports Complex</h4><p class="text-gray-600 text-sm mt-1">Extensive grounds for cricket, football, and indoor games.</p></div>
                             </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Upcoming Events & News</h3>
                        <div class="bg-white p-6 rounded-xl shadow-md space-y-4">
                             <div class="flex items-center space-x-4">
                                 <div class="bg-blue-600 text-white font-bold p-3 rounded-lg text-center w-16">
                                     <span class="text-xl leading-none">25</span><span class="text-xs">OCT</span>
                                 </div>
                                 <div><h4 class="font-semibold">National Conference on AI</h4><p class="text-gray-500 text-sm">Dept. of CSE & AI/DS</p></div>
                             </div>
                             <div class="border-t border-gray-200 my-2"></div>
                             <div class="flex items-center space-x-4">
                                 <div class="bg-blue-600 text-white font-bold p-3 rounded-lg text-center w-16">
                                     <span class="text-xl leading-none">02</span><span class="text-xs">NOV</span>
                                 </div>
                                 <div><h4 class="font-semibold">Intra-College Hackathon '25</h4><p class="text-gray-500 text-sm">Coding Club Initiative</p></div>
                             </div>
                             <div class="border-t border-gray-200 my-2"></div>
                             <div class="flex items-center space-x-4">
                                 <div class="bg-blue-600 text-white font-bold p-3 rounded-lg text-center w-16">
                                     <span class="text-xl leading-none">15</span><span class="text-xs">NOV</span>
                                 </div>
                                 <div><h4 class="font-semibold">Guest Lecture on EV Tech</h4><p class="text-gray-500 text-sm">Dept. of EEE & Mech</p></div>
                             </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        
        <footer class="bg-blue-900 text-white mt-12">
            <div class="container mx-auto px-8 py-10">
                 <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                     <div>
                         <h4 class="font-bold text-lg mb-4">Quick Links</h4>
                         <ul class="space-y-2 text-white/80">
                             <li><a href="#" class="hover:text-white">Admissions 2025</a></li>
                             <li><a href="#" class="hover:text-white">Academic Calendar</a></li>
                             <li><a href="#" class="hover:text-white">Library Portal</a></li>
                             <li><a href="#" class="hover:text-white">Anti-Ragging Cell</a></li>
                         </ul>
                     </div>
                     <div>
                         <h4 class="font-bold text-lg mb-4">Contact Us</h4>
                         <p class="text-white/80">KSR Kalvi Nagar,<br>Tiruchengode - 637215<br>Namakkal, Tamil Nadu<br><strong>Email:</strong> info@ksrce.ac.in</p>
                     </div>
                     <div class="md:col-span-2">
                         <h4 class="font-bold text-lg mb-4">About KSRCE</h4>
                         <p class="text-white/80">K.S.Rangasamy College of Engineering, an autonomous institution, is committed to providing high-quality technical education, fostering research, and promoting entrepreneurship among the youth.</p>
                     </div>
                 </div>
                 <div class="border-t border-white/20 mt-8 pt-6 text-center text-white/70">
                     <p>&copy; 2025 K.S.Rangasamy College of Engineering. All Rights Reserved.</p>
                 </div>
            </div>
        </footer>
    </div>
    
    <div id="details-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
        <div id="modal-content" class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col modal-content">
            <div class="flex justify-between items-center p-5 border-b">
                <h3 id="modal-title" class="text-2xl font-bold text-blue-900">Details</h3>
                <button id="modal-close-button" class="text-gray-500 hover:text-gray-800 text-3xl">&times;</button>
            </div>
            <div id="modal-body" class="p-6 overflow-y-auto">
                </div>
        </div>
    </div>

<div id="n8n-chat"></div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- PAGE ELEMENTS ---
    const loginPage = document.getElementById('login-page');
    const mainPortal = document.getElementById('main-portal');
    const loginForm = document.getElementById('login-form');
    const logoutButton = document.getElementById('logout-button');
    const profileButton = document.getElementById('profile-button');
    const emailInput = document.getElementById('email');
    const passwordInput = document.getElementById('password');
    const errorMessage = document.getElementById('error-message');

    // --- MODAL ELEMENTS ---
    const modal = document.getElementById('details-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalBody = document.getElementById('modal-body');
    const modalCloseButton = document.getElementById('modal-close-button');

    // --- DATA ---
    const departments = [
        {
            name: "Computer Science & Engg.",
            icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/></svg>`,
            color: "sky",
            details: `
                <p class="mb-4 text-gray-700">The CSE department offers state-of-the-art facilities and a curriculum designed to produce globally competent software professionals. The department is accredited by the NBA.</p>
                <img src="cse.jpg" class="w-full h-48 object-cover rounded-lg mb-4"  alt="CSE Department">
                <h4 class="font-bold mb-2">Key Labs:</h4>
                <ul class="list-disc list-inside text-gray-600 space-y-1">
                    <li>Advanced Java & Open Source Lab</li>
                    <li>Data Structures & Algorithms Lab</li>
                    <li>Database Management Systems Lab</li>
                    <li>Cloud Computing & IoT Laboratory</li>
                </ul>
            `
        },
        {
            name: "Mechanical Engineering",
            icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor"><path d="M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v10a1 1 0 001 1zm-3.586-4.414a1 1 0 00-1.414 1.414l2.5 2.5a1 1 0 001.414 0l2.5-2.5a1 1 0 00-1.414-1.414L11 13.586l-1.086-1.086zM9 17a1 1 0 01-1.447.894l-4-2A1 1 0 013 15V5a1 1 0 011-1h2a1 1 0 011 1v10a1 1 0 01-1 1z"/></svg>`,
            color: "amber",
            details: `
                <p class="mb-4 text-gray-700">The Department of Mechanical Engineering is one of the pioneering departments of KSRCE. It provides a strong foundation in mechanical sciences and practical skills.</p>
                <img src="mech.jpg" class="w-full h-48 object-cover rounded-lg mb-4" alt="Mechanical Department">
                <h4 class="font-bold mb-2">Key Labs:</h4>
                <ul class="list-disc list-inside text-gray-600 space-y-1">
                    <li>CAD/CAM Laboratory</li>
                    <li>Thermodynamics & IC Engines Lab</li>
                    <li>Mechatronics and Robotics Lab</li>
                    <li>Special Machines Laboratory</li>
                </ul>
            `
        },
        {
            name: "Civil Engineering",
            icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M12 19c-3.866 0-7-3.134-7-7s3.134-7 7-7 7 3.134 7 7-3.134 7-7 7z"/></svg>`,
            color: "emerald",
            details: `
                <p class="mb-4 text-gray-700">The Department of Civil Engineering is one of the cornerstone departments of KSRCE. It provides a strong foundation in core engineering principles and essential hands-on skills</p>
                <img src="civil.jpg" alt="civil Department" class="w-full h-48 object-cover rounded-lg mb-4">
                <h4 class="font-bold mb-2">Key Labs:</h4>
                <ul class="list-disc list-inside text-gray-600 space-y-1">
                    <li>Strength of Materials Lab</li>
                    <li>Geotechnical Engineering Lab</li>
                    <li>Transportation Engineering Lab</li>
                    <li>Environmental Engineering Lab</li>
                </ul>
            `
        },
        {
            name: "Electrical & Electronics",
            icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>`,
            color: "rose",
            details: `
                <p class="mb-4 text-gray-700">The EEE department provides a comprehensive understanding of electrical and electronics principles, with a focus on power systems, control systems, and renewable energy.</p>
                <img src="ece.jpg" class="w-full h-48 object-cover rounded-lg mb-4" alt="EEE Department">
                <h4 class="font-bold mb-2">Key Labs:</h4>
                <ul class="list-disc list-inside text-gray-600 space-y-1">
                    <li>Power Electronics & Drives Lab</li>
                    <li>Control Systems Laboratory</li>
                    <li>Electrical Machines Lab</li>
                    <li>High Voltage Engineering Lab</li>
                </ul>
            `
        }
    ];
    
    const profileData = {
        name: "Demo User",
        email: "demo@ksrce.ac.in",
        role: "Student",
        department: "Computer Science & Engineering",
        registerNumber: "7377221CS101",
        profilePic: "https://i.pravatar.cc/150?u=demo@ksrce.ac.in",
        details: `
            <div class="text-center -mt-16">
                 <img src="https://i.pravatar.cc/150?u=demo@ksrce.ac.in" class="profile-pic mx-auto" alt="Profile Picture">
                 <h3 class="text-2xl font-bold mt-4">Demo User</h3>
                 <p class="text-gray-500">7377221CS101</p>
            </div>
            <div class="mt-6 text-sm text-gray-700">
                <div class="flex justify-between py-3 border-b">
                    <span class="font-semibold">Email:</span>
                    <span>demo@ksrce.ac.in</span>
                </div>
                 <div class="flex justify-between py-3 border-b">
                    <span class="font-semibold">Role:</span>
                    <span>Student</span>
                </div>
                 <div class="flex justify-between py-3 border-b">
                    <span class="font-semibold">Department:</span>
                    <span>Computer Science & Engg.</span>
                </div>
                <div class="flex justify-between py-3">
                    <span class="font-semibold">Batch:</span>
                    <span>2022 - 2026</span>
                </div>
            </div>
        `
    };

    const campusFacilities = {
        library: {
            title: "Central Library",
            details: `
                <p class="mb-4 text-gray-700">The Central Library at KSRCE is a vast reservoir of knowledge, spanning over <strong>2,790 sq.m.</strong> It is fully automated with modern RFID technology to facilitate efficient circulation and resource management.</p>
                <img src="library.jpg" class="w-full h-56 object-cover rounded-lg mb-4" alt="Central Library Interior">
                <h4 class="font-bold mb-2 text-lg">Key Features:</h4>
                <ul class="list-disc list-inside text-gray-600 space-y-2">
                    <li><strong>Extensive Collection:</strong> Over 88,382 volumes and 33,758 titles covering all fields of engineering and science.</li>
                    <li><strong>Journals & Periodicals:</strong> Subscriptions to 159 National and 58 International print journals.</li>
                    <li><strong>Digital Access:</strong> E-journal access through prestigious platforms like IEEE, ASME, ASCE, and DELNET.</li>
                    <li><strong>Seating Capacity:</strong> A spacious reading hall that accommodates up to 300 students at a time.</li>
                    <li><strong>Digital Library:</strong> A dedicated section with 30 computer systems for accessing online resources and databases.</li>
                    <li><strong>Additional Services:</strong> Reprography (photocopying) and book binding facilities are available for students and staff.</li>
                </ul>
            `
        },
        hostel: {
            title: "Hostel Facilities",
            details: `
                <p class="mb-4 text-gray-700">KSRCE provides a home away from home with its secure, comfortable, and well-maintained hostel facilities, separately for boys and girls, located within the campus.</p>
                <img src="hostel.jpg" class="w-full h-56 object-cover rounded-lg mb-4" alt="College Hostel Building">
                <h4 class="font-bold mb-2 text-lg">Amenities & Services:</h4>
                <ul class="list-disc list-inside text-gray-600 space-y-2">
                    <li><strong>Capacity:</strong> Accommodation for over 1500 boys and 600 girls.</li>
                    <li><strong>Dining:</strong> A modern, hygienic mess serving a variety of nutritious food.</li>
                    <li><strong>Health & Wellness:</strong> 24/7 medical facility with a resident doctor and an on-campus ambulance service. A well-equipped gym is also available.</li>
                    <li><strong>Connectivity:</strong> High-speed Wi-Fi connectivity and STD/ISD communication facilities.</li>
                    <li><strong>Utilities:</strong> Uninterrupted power supply with backup generators and access to RO purified drinking water.</li>
                    <li><strong>Security:</strong> Round-the-clock security ensures a safe and secure environment for all residents.</li>
                </ul>
            `
        },
        transport: {
            title: "Transport Network",
            details: `
                <p class="mb-4 text-gray-700">The college operates an extensive transport network to ensure safe and convenient travel for students and staff from various parts of the region.</p>
                <img src="trans.jpg" class="w-full h-56 object-cover rounded-lg mb-4" alt="College Buses">
                <h4 class="font-bold mb-2 text-lg">Network Highlights:</h4>
                <ul class="list-disc list-inside text-gray-600 space-y-2">
                    <li><strong>Large Fleet:</strong> A fleet of over <strong>60 modern buses</strong> dedicated to transportation.</li>
                    <li><strong>Wide Coverage:</strong> Buses operate within a radius of <strong>80 KM</strong> from the campus.</li>
                    <li><strong>Major Routes:</strong> Connects major towns and cities including Erode, Salem, Namakkal, Tiruchengode, Rasipuram, and Sankagiri.</li>
                    <li><strong>Punctuality & Safety:</strong> The service is managed to ensure punctuality and adherence to the highest safety standards for all commuters.</li>
                </ul>
            `
        },
        sports: {
            title: "Sports Complex & Gymnasium",
            details: `
                <p class="mb-4 text-gray-700">KSRCE places a strong emphasis on physical fitness and sportsmanship, offering excellent infrastructure for a wide range of sports and recreational activities.</p>
                <img src="sports.jpg" class="w-full h-56 object-cover rounded-lg mb-4" alt="College Sports Ground">
                <h4 class="font-bold mb-2 text-lg">Outdoor Facilities:</h4>
                <ul class="list-disc list-inside text-gray-600 space-y-2">
                    <li>A standard <strong>400-meter athletic track</strong> with a gallery.</li>
                    <li>Well-maintained grounds for Football, Hockey, and Cricket.</li>
                    <li>Courts for Basketball, Volleyball, Ball Badminton, Kabaddi, and Tennis.</li>
                </ul>
                <h4 class="font-bold my-2 text-lg">Indoor Facilities:</h4>
                <ul class="list-disc list-inside text-gray-600 space-y-2">
                    <li>Indoor stadium for games like Table Tennis, Carrom, and Chess.</li>
                    <li>A state-of-the-art <strong>multi-station gymnasium</strong> equipped with modern fitness machines.</li>
                </ul>
            `
        }
    };


    // --- FUNCTIONS ---
    function showPortal() {
        loginPage.classList.add('hidden');
        mainPortal.classList.remove('hidden');
    }

    function showLoginPage() {
        loginPage.classList.remove('hidden');
        mainPortal.classList.add('hidden');
    }
    
    function populateDepartments() {
        const container = document.querySelector('#departments-section .grid');
        container.innerHTML = '';
        departments.forEach(dept => {
            const card = document.createElement('div');
            card.className = `bg-white p-6 rounded-xl shadow-md cursor-pointer card-hover-effect flex items-center space-x-4`;
            card.innerHTML = `
                <div class="bg-${dept.color}-100 text-${dept.color}-700 p-4 rounded-lg">${dept.icon}</div>
                <div><h4 class="font-bold text-lg">${dept.name}</h4></div>`;
            card.addEventListener('click', () => openModal(dept.name, dept.details));
            container.appendChild(card);
        });
    }

    function openModal(title, content) {
        modalTitle.innerText = title;
        modalBody.innerHTML = content;
        modal.classList.remove('hidden');
    }

    function closeModal() {
        modal.classList.add('hidden');
    }

    // --- EVENT LISTENERS ---
    loginForm.addEventListener('submit', (e) => {
        e.preventDefault();
        if (emailInput.value.trim() && passwordInput.value.trim()) {
            errorMessage.classList.add('hidden');
            sessionStorage.setItem('isLoggedIn', 'true');
            showPortal();
        } else {
            errorMessage.classList.remove('hidden');
        }
    });

    logoutButton.addEventListener('click', () => {
        sessionStorage.removeItem('isLoggedIn');
        showLoginPage();
    });
    
    profileButton.addEventListener('click', () => {
        openModal("User Profile", profileData.details);
    });

    modalCloseButton.addEventListener('click', closeModal);
    modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal();
    });

    // Campus Facilities Click Listeners
    document.getElementById('library-card').addEventListener('click', () => {
        openModal(campusFacilities.library.title, campusFacilities.library.details);
    });
    document.getElementById('hostel-card').addEventListener('click', () => {
        openModal(campusFacilities.hostel.title, campusFacilities.hostel.details);
    });
    document.getElementById('transport-card').addEventListener('click', () => {
        openModal(campusFacilities.transport.title, campusFacilities.transport.details);
    });
    document.getElementById('sports-card').addEventListener('click', () => {
        openModal(campusFacilities.sports.title, campusFacilities.sports.details);
    });


    // --- INITIALIZATION ---
    if (sessionStorage.getItem('isLoggedIn') === 'true') {
        showPortal();
    }
    populateDepartments();
});
</script>

<script type="module">
    import { createChat } from 'https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js';

    createChat({
        webhookUrl: 'https://devaroopa35.app.n8n.cloud/webhook/92f65006-613d-4123-b7c4-5246750a6e82/chat',
        webhookConfig: {
            method: 'POST',
            headers: {}
        },
        target: '#n8n-chat',
        mode: 'window',
        chatInputKey: 'chatInput',
        chatSessionKey: 'sessionId',
        loadPreviousSession: true,
        metadata: {},
        showWelcomeScreen: false,
        defaultLanguage: 'en',
        initialMessages: [
            'Hi Buddy! ðŸ‘‹',
            'My name is Innovix, Welcome to KSRCE',
            'How can I help you?',
        ],
        i18n: {
            en: {
                title: 'Innovix KSRCE',
                subtitle: "Ask Anything About KSRCE.",
                footer: '',
                getStarted: 'New Conversation',
                inputPlaceholder: 'Type your question..',
            },
        },
        enableStreaming: false,
        });
</script>
</body>
</html>